<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador UNACH - Examen Estudiantil</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2980, #26d0ce);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(90deg, #2c3e50, #4a6491);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }
        
        .logo {
            position: absolute;
            top: 15px;
            left: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo i {
            font-size: 28px;
            color: #ffcc00;
        }
        
        .timer-container {
            position: absolute;
            top: 15px;
            right: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 30px;
            padding: 8px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .timer {
            font-size: 1.3rem;
            font-weight: bold;
            font-family: 'Courier New', monospace;
            color: #ffcc00;
        }
        
        h1 {
            margin: 10px 0 5px;
            font-size: 2.2rem;
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 10px;
        }
        
        .exam-section {
            display: flex;
            min-height: 500px;
        }
        
        .sidebar {
            width: 250px;
            background-color: #f8f9fa;
            border-right: 1px solid #e0e0e0;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }
        
        .student-info {
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            margin-bottom: 20px;
        }
        
        .student-info h3 {
            margin-bottom: 10px;
            color: #2c3e50;
            border-bottom: 2px solid #4a6491;
            padding-bottom: 8px;
        }
        
        .info-item {
            display: flex;
            margin: 8px 0;
        }
        
        .info-label {
            font-weight: bold;
            width: 100px;
        }
        
        .questions-nav {
            flex-grow: 1;
            overflow-y: auto;
        }
        
        .questions-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
        }
        
        .question-number {
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #e9ecef;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            border: 1px solid #ced4da;
        }
        
        .question-number:hover {
            background: #ced4da;
        }
        
        .question-number.active {
            background: #4a6491;
            color: white;
            border-color: #2c3e50;
        }
        
        .question-number.answered {
            background: #28a745;
            color: white;
            border-color: #1e7e34;
        }
        
        .content {
            flex-grow: 1;
            padding: 25px;
            display: flex;
            flex-direction: column;
        }
        
        .question-container {
            flex-grow: 1;
        }
        
        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 15px;
            border-bottom: 2px solid #e9ecef;
            margin-bottom: 20px;
        }
        
        .question-title {
            font-size: 1.4rem;
            color: #2c3e50;
            font-weight: 600;
        }
        
        .question-text {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 25px;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #4a6491;
        }
        
        .options-container {
            display: grid;
            gap: 15px;
        }
        
        .option {
            display: flex;
            align-items: flex-start;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .option:hover {
            background: #f1f3f5;
            border-color: #ced4da;
        }
        
        .option.selected {
            background: #e7f4ff;
            border-color: #4a6491;
            box-shadow: 0 0 0 3px rgba(74, 100, 145, 0.2);
        }
        
        .option input {
            margin-right: 15px;
            margin-top: 3px;
        }
        
        .option-label {
            font-weight: bold;
            margin-right: 10px;
            min-width: 30px;
            color: #4a6491;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid #e9ecef;
        }
        
        .btn {
            padding: 12px 25px;
            border-radius: 30px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-prev {
            background: #6c757d;
            color: white;
        }
        
        .btn-next {
            background: #4a6491;
            color: white;
        }
        
        .btn-submit {
            background: #28a745;
            color: white;
        }
        
        .btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        
        .btn:disabled {
            background: #e9ecef;
            color: #adb5bd;
            cursor: not-allowed;
            transform: none;
        }
        
        .results-container {
            padding: 30px;
            text-align: center;
            display: none;
        }
        
        .results-box {
            background: white;
            border-radius: 15px;
            padding: 30px;
            max-width: 600px;
            margin: 0 auto;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        .results-title {
            font-size: 2.5rem;
            color: #2c3e50;
            margin-bottom: 20px;
        }
        
        .score-container {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 30px 0;
        }
        
        .score-box {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: bold;
        }
        
        .correct-box {
            background: linear-gradient(135deg, #28a745, #1e7e34);
        }
        
        .incorrect-box {
            background: linear-gradient(135deg, #dc3545, #bd2130);
        }
        
        .score-value {
            font-size: 2.8rem;
            line-height: 1;
        }
        
        .score-label {
            font-size: 1.1rem;
            text-transform: uppercase;
        }
        
        .restart-btn {
            background: #4a6491;
            color: white;
            padding: 15px 40px;
            font-size: 1.2rem;
            margin-top: 20px;
        }
        
        .progress-container {
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .progress-bar {
            height: 100%;
            background: #4a6491;
            width: 0%;
            transition: width 0.5s;
        }
        
        .welcome-screen {
            padding: 40px;
            text-align: center;
        }
        
        .welcome-title {
            font-size: 2.5rem;
            color: #2c3e50;
            margin-bottom: 20px;
        }
        
        .welcome-text {
            font-size: 1.1rem;
            line-height: 1.7;
            max-width: 700px;
            margin: 0 auto 30px;
            color: #495057;
        }
        
        .instructions {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            text-align: left;
            max-width: 700px;
            margin: 0 auto 30px;
            border-left: 4px solid #4a6491;
        }
        
        .instructions h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .instructions ul {
            padding-left: 20px;
        }
        
        .instructions li {
            margin-bottom: 10px;
            line-height: 1.5;
        }
        
        .start-btn {
            background: #28a745;
            color: white;
            font-size: 1.2rem;
            padding: 15px 50px;
            border-radius: 30px;
            margin-top: 20px;
        }
        
        @media (max-width: 768px) {
            .exam-section {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                border-right: none;
                border-bottom: 1px solid #e0e0e0;
            }
            
            .questions-grid {
                grid-template-columns: repeat(8, 1fr);
            }
            
            .logo, .timer-container {
                position: static;
                justify-content: center;
                margin: 10px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-graduation-cap"></i>
                <span>UNIVERSIDAD UNACH</span>
            </div>
            <h1>SIMULADOR DE EXAMEN</h1>
            <div class="subtitle">Evaluación de conocimientos generales</div>
            <div class="timer-container">
                <i class="fas fa-clock"></i>
                <div class="timer">90:00</div>
            </div>
        </header>
        
        <div class="welcome-screen" id="welcomeScreen">
            <h2 class="welcome-title">Bienvenido al Simulador de Examen</h2>
            <div class="welcome-text">
                <p>Este examen simulado te ayudará a prepararte para tus evaluaciones reales. El test consta de 80 preguntas con un tiempo límite de 90 minutos.</p>
                <p>Demuestra tus conocimientos y descubre áreas de oportunidad para mejorar.</p>
            </div>
            
            <div class="instructions">
                <h3>Instrucciones importantes</h3>
                <ul>
                    <li><strong>Tiempo total:</strong> 90 minutos para completar el examen</li>
                    <li><strong>Navegación:</strong> Utiliza los botones "Anterior" y "Siguiente" para moverte entre preguntas</li>
                    <li><strong>Selección:</strong> Elige solo UNA respuesta por pregunta</li>
                    <li><strong>Progreso:</strong> Puedes ver tu avance en la barra lateral</li>
                    <li><strong>Revisión:</strong> Puedes cambiar tus respuestas en cualquier momento antes de finalizar</li>
                    <li><strong>Finalización:</strong> El examen se enviará automáticamente cuando se agote el tiempo</li>
                </ul>
            </div>
            
            <div class="student-info">
                <div class="info-item">
                    <div class="info-label">Estudiante:</div>
                    <div><input type="text" id="studentName" placeholder="Ingresa tu nombre" style="padding: 8px; width: 200px; border: 1px solid #ced4da; border-radius: 4px;"></div>
                </div>
                <div class="info-item">
                    <div class="info-label">Matrícula:</div>
                    <div><input type="text" id="studentId" placeholder="Ingresa tu matrícula" style="padding: 8px; width: 200px; border: 1px solid #ced4da; border-radius: 4px;"></div>
                </div>
            </div>
            
            <button class="btn start-btn" id="startBtn">
                <i class="fas fa-play-circle"></i> Comenzar Examen
            </button>
        </div>
        
        <div class="exam-section" id="examSection" style="display: none;">
            <div class="sidebar">
                <div class="student-info">
                    <h3>Información del Estudiante</h3>
                    <div class="info-item">
                        <div class="info-label">Nombre:</div>
                        <div id="displayName">-</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Matrícula:</div>
                        <div id="displayId">-</div>
                    </div>
                </div>
                
                <div class="progress-container">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                
                <h3>Navegación de Preguntas</h3>
                <div class="questions-nav">
                    <div class="questions-grid" id="questionsGrid">
                        <!-- Las preguntas se generarán con JavaScript -->
                    </div>
                </div>
            </div>
            
            <div class="content">
                <div class="question-container">
                    <div class="question-header">
                        <div class="question-title" id="questionTitle">Pregunta #1</div>
                    </div>
                    
                    <div class="question-text" id="questionText">
                        <!-- El texto de la pregunta se cargará aquí -->
                    </div>
                    
                    <div class="options-container" id="optionsContainer">
                        <!-- Las opciones se cargarán aquí -->
                    </div>
                </div>
                
                <div class="navigation">
                    <button class="btn btn-prev" id="prevBtn" disabled>
                        <i class="fas fa-arrow-left"></i> Anterior
                    </button>
                    <button class="btn btn-next" id="nextBtn">
                        Siguiente <i class="fas fa-arrow-right"></i>
                    </button>
                    <button class="btn btn-submit" id="submitBtn" style="display: none;">
                        <i class="fas fa-paper-plane"></i> Finalizar Examen
                    </button>
                </div>
            </div>
        </div>
        
        <div class="results-container" id="resultsContainer">
            <div class="results-box">
                <h2 class="results-title">Resultados del Examen</h2>
                <div class="student-info">
                    <div class="info-item">
                        <div class="info-label">Estudiante:</div>
                        <div id="resultName">-</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Matrícula:</div>
                        <div id="resultId">-</div>
                    </div>
                </div>
                
                <div class="score-container">
                    <div class="score-box correct-box">
                        <div class="score-value" id="correctCount">0</div>
                        <div class="score-label">Aciertos</div>
                    </div>
                    <div class="score-box incorrect-box">
                        <div class="score-value" id="incorrectCount">0</div>
                        <div class="score-label">Errores</div>
                    </div>
                </div>
                
                <div id="scoreMessage">
                    <!-- Mensaje de resultado se cargará aquí -->
                </div>
                
                <button class="btn restart-btn" id="restartBtn">
                    <i class="fas fa-redo"></i> Volver a Intentar
                </button>
            </div>
        </div>
    </div>
    
    <script>
        // Datos del examen con las 80 preguntas proporcionadas
        const examData = [
            {
                id: 1,
                text: "Para acceder a planos de turbinas eólicas, un ingeniero necesita una contraseña de 5 elementos. Se muestran cuatro: brújula, búho, burbuja, buzón, Aplicando patrones verbales, seleccione el quinto elemento:",
                options: [
                    { id: "a", text: "bíceps", correct: false },
                    { id: "b", text: "bóveda", correct: true },
                    { id: "c", text: "balcón", correct: false },
                    { id: "d", text: "barril", correct: false }
                ]
            },
            {
                id: 2,
                text: "Un sistema de seguridad muestra esta secuencia para reiniciar: 3, 9, 27, 81, Aplicando series numéricas, elija el quinto elemento:",
                options: [
                    { id: "a", text: "243", correct: false },
                    { id: "b", text: "244", correct: false },
                    { id: "c", text: "245", correct: true },
                    { id: "d", text: "246", correct: false }
                ]
            },
            {
                id: 3,
                text: "Para validar una licencia de software, se requiere un código de 6 elementos. Se conocen cinco: hkmn, 45231, fgij, 78901, lmop, Aplicando ordenamiento alfanumérico, seleccione el sexto elemento:",
                options: [
                    { id: "a", text: "qrst", correct: false },
                    { id: "b", text: "uvwx", correct: true },
                    { id: "c", text: "yzab", correct: false },
                    { id: "d", text: "cdef", correct: false }
                ]
            },
            {
                id: 4,
                text: "Secuencia numérica para activar un servidor: 18, 36, 72, 144, Aplicando series geométricas, elija el quinto elemento:",
                options: [
                    { id: "a", text: "280", correct: false },
                    { id: "b", text: "288", correct: true },
                    { id: "c", text: "290", correct: false },
                    { id: "d", text: "292", correct: false }
                ]
            },
            {
                id: 5,
                text: "Patrón verbal en contraseña de laboratorio: lápiz, lámpara, lágrima, lástima, Seleccione el quinto elemento:",
                options: [
                    { id: "a", text: "látigo", correct: false },
                    { id: "b", text: "láser", correct: true },
                    { id: "c", text: "lenguaje", correct: false },
                    { id: "d", text: "lavanda", correct: false }
                ]
            },
            {
                id: 6,
                text: "Serie para reiniciar un sistema de riego inteligente: 2, 6, 12, 20, Aplicando patrones numéricos, elija el quinto elemento:",
                options: [
                    { id: "a", text: "30", correct: false },
                    { id: "b", text: "32", correct: true },
                    { id: "c", text: "34", correct: false },
                    { id: "d", text: "36", correct: false }
                ]
            },
            {
                id: 7,
                text: "Contraseña de acceso a una base de datos con elementos: cantar, danzar, escuchar, festejar, Aplicando patrones verbales, seleccione el quinto elemento:",
                options: [
                    { id: "a", text: "gritar", correct: true },
                    { id: "b", text: "hablar", correct: false },
                    { id: "c", text: "honrar", correct: false },
                    { id: "d", text: "huir", correct: false }
                ]
            },
            {
                id: 8,
                text: "Secuencia alfanumérica para desbloquear un dispositivo: A5, B10, C15, D20, Aplicando patrones combinados, elija el quinto elemento:",
                options: [
                    { id: "a", text: "E25", correct: false },
                    { id: "b", text: "E30", correct: true },
                    { id: "c", text: "F25", correct: false },
                    { id: "d", text: "F30", correct: false }
                ]
            },
            {
                id: 9,
                text: "Serie numérica en un código de seguridad: 100, 81, 64, 49, Aplicando series de cuadrados, seleccione el quinto elemento:",
                options: [
                    { id: "a", text: "36", correct: false },
                    { id: "b", text: "32", correct: true },
                    { id: "c", text: "30", correct: false },
                    { id: "d", text: "25", correct: false }
                ]
            },
            {
                id: 10,
                text: "Patrón verbal para activar un software: nube, nieve, neblina, niebla, Seleccione el quinto elemento:",
                options: [
                    { id: "a", text: "nido", correct: true },
                    { id: "b", text: "naranja", correct: false },
                    { id: "c", text: "navío", correct: false },
                    { id: "d", text: "novela", correct: false }
                ]
            },
            {
                id: 11,
                text: "Secuencia para acceder a planos arquitectónicos: 1, 4, 9, 16, Aplicando series cuadráticas, elija el quinto elemento:",
                options: [
                    { id: "a", text: "20", correct: false },
                    { id: "b", text: "22", correct: false },
                    { id: "c", text: "25", correct: true },
                    { id: "d", text: "28", correct: false }
                ]
            },
            {
                id: 12,
                text: "Código de validación con elementos mixtos: gato, 734, perro, 826, ratón, Aplicando patrones alternados, seleccione el sexto elemento:",
                options: [
                    { id: "a", text: "918", correct: false },
                    { id: "b", text: "928", correct: true },
                    { id: "c", text: "938", correct: false },
                    { id: "d", text: "948", correct: false }
                ]
            },
            {
                id: 13,
                text: "Serie numérica en un sistema de control: 5, 25, 125, 625, Aplicando series exponenciales, elija el quinto elemento:",
                options: [
                    { id: "a", text: "3120", correct: false },
                    { id: "b", text: "3125", correct: true },
                    { id: "c", text: "3200", correct: false },
                    { id: "d", text: "3225", correct: false }
                ]
            },
            {
                id: 14,
                text: "Patrón verbal para desbloquear un informe: libro, libra, libre, ligero, Seleccione el quinto elemento:",
                options: [
                    { id: "a", text: "lindo", correct: true },
                    { id: "b", text: "lirio", correct: false },
                    { id: "c", text: "listo", correct: false },
                    { id: "d", text: "litoral", correct: false }
                ]
            },
            {
                id: 15,
                text: "Secuencia para reiniciar un servidor web: 0, 1, 1, 2, 3, Aplicando la serie de Fibonacci, elija el sexto elemento:",
                options: [
                    { id: "a", text: "4", correct: false },
                    { id: "b", text: "5", correct: false },
                    { id: "c", text: "6", correct: true },
                    { id: "d", text: "7", correct: false }
                ]
            },
            {
                id: 16,
                text: "Código de acceso con elementos alfanuméricos: J25, K30, L35, M40, Aplicando patrones, seleccione el quinto elemento:",
                options: [
                    { id: "a", text: "N45", correct: false },
                    { id: "b", text: "N50", correct: true },
                    { id: "c", text: "O45", correct: false },
                    { id: "d", text: "O50", correct: false }
                ]
            },
            {
                id: 17,
                text: "Serie numérica para activar un dispositivo IoT: 10, 20, 31, 43, Aplicando incrementos variables, elija el quinto elemento:",
                options: [
                    { id: "a", text: "56", correct: false },
                    { id: "b", text: "57", correct: true },
                    { id: "c", text: "58", correct: false },
                    { id: "d", text: "59", correct: false }
                ]
            },
            {
                id: 18,
                text: "Patrón verbal en contraseña de seguridad: sol, suelo, suerte, súbito, Seleccione el quinto elemento:",
                options: [
                    { id: "a", text: "sutil", correct: true },
                    { id: "b", text: "sur", correct: false },
                    { id: "c", text: "suero", correct: false },
                    { id: "d", text: "súper", correct: false }
                ]
            },
            {
                id: 19,
                text: "Secuencia para acceder a datos encriptados: 2, 4, 8, 16, Aplicando series binarias, elija el quinto elemento:",
                options: [
                    { id: "a", text: "24", correct: false },
                    { id: "b", text: "28", correct: false },
                    { id: "c", text: "32", correct: true },
                    { id: "d", text: "36", correct: false }
                ]
            },
            {
                id: 20,
                text: "Código de validación con 6 elementos: ABC, 123, DEF, 456, GHI, Aplicando patrones alternados, seleccione el sexto elemento:",
                options: [
                    { id: "a", text: "789", correct: false },
                    { id: "b", text: "780", correct: true },
                    { id: "c", text: "890", correct: false },
                    { id: "d", text: "900", correct: false }
                ]
            },
            {
                id: 21,
                text: "Serie numérica en un sistema de riego: 50, 45, 41, 38, Aplicando decrementos variables, elija el quinto elemento:",
                options: [
                    { id: "a", text: "34", correct: false },
                    { id: "b", text: "35", correct: false },
                    { id: "c", text: "36", correct: true },
                    { id: "d", text: "37", correct: false }
                ]
            },
            {
                id: 22,
                text: "Un agricultor vendió 120 kg de maíz y frijol con ingresos de $840.00. El maíz cuesta $5.00/kg y el frijol $8.00/kg. Determine cuántos kg vendió de cada uno:",
                options: [
                    { id: "a", text: "40 kg maíz, 80 kg frijol", correct: false },
                    { id: "b", text: "60 kg maíz, 60 kg frijol", correct: false },
                    { id: "c", text: "70 kg maíz, 50 kg frijol", correct: true },
                    { id: "d", text: "50 kg maíz, 70 kg frijol", correct: false }
                ]
            },
            {
                id: 23,
                text: "María compró 30 muebles (sillas y mesas) por $4,200.00. Las sillas cuestan $100.00 y las mesas $200.00. Calcule la cantidad de sillas y mesas:",
                options: [
                    { id: "a", text: "15 sillas, 15 mesas", correct: false },
                    { id: "b", text: "18 sillas, 12 mesas", correct: true },
                    { id: "c", text: "20 sillas, 10 mesas", correct: false },
                    { id: "d", text: "10 sillas, 20 mesas", correct: false }
                ]
            },
            {
                id: 24,
                text: "Un hotel cobra $120.00/noche por adultos y $75.00 por niños. Una familia pagó $690.00 por 7 noches con 2 adultos y 2 niños. Calcule el descuento aplicado (valor total sin descuento: $1,050.00):",
                options: [
                    { id: "a", text: "10%", correct: false },
                    { id: "b", text: "12%", correct: true },
                    { id: "c", text: "15%", correct: false },
                    { id: "d", text: "18%", correct: false }
                ]
            },
            {
                id: 25,
                text: "Juan vendió 50 smartphones y tablets por $45,000.00. Smartphones a $800.00 y tablets a $1,200.00. Planifique acciones para hallar cuántos vendió de cada uno:",
                options: [
                    { id: "a", text: "25 smartphones, 25 tablets", correct: false },
                    { id: "b", text: "30 smartphones, 20 tablets", correct: true },
                    { id: "c", text: "35 smartphones, 15 tablets", correct: false },
                    { id: "d", text: "20 smartphones, 30 tablets", correct: false }
                ]
            },
            {
                id: 26,
                text: "Una tienda vendió 60 camisetas y pantalones por $3,600.00. Las camisetas cuestan $40.00 y los pantalones $80.00. ¿Cuántas camisetas y pantalones se vendieron?:",
                options: [
                    { id: "a", text: "30 camisetas, 30 pantalones", correct: false },
                    { id: "b", text: "40 camisetas, 20 pantalones", correct: true },
                    { id: "c", text: "20 camisetas, 40 pantalones", correct: false },
                    { id: "d", text: "25 camisetas, 35 pantalones", correct: false }
                ]
            },
            {
                id: 27,
                text: "Carmen invirtió $10,000.00 en dos fondos: Fondo A rinde 5% anual y Fondo B rinde 8%. Ganó $710.00 en un año. Calcule cuánto invirtió en cada fondo:",
                options: [
                    { id: "a", text: "$3,000 en A, $7,000 en B", correct: false },
                    { id: "b", text: "$4,000 en A, $6,000 en B", correct: true },
                    { id: "c", text: "$5,000 en A, $5,000 en B", correct: false },
                    { id: "d", text: "$6,000 en A, $4,000 en B", correct: false }
                ]
            },
            {
                id: 28,
                text: "Un terreno rectangular tiene un área de 500 m². Si el largo es 5 m más que el ancho, calcule las dimensiones:",
                options: [
                    { id: "a", text: "15 m x 35 m", correct: false },
                    { id: "b", text: "20 m x 25 m", correct: true },
                    { id: "c", text: "10 m x 50 m", correct: false },
                    { id: "d", text: "25 m x 20 m", correct: false }
                ]
            },
            {
                id: 29,
                text: "Roberto compró 15 libros de matemática y física por $1,100.00. Los de matemática cuestan $60.00 y los de física $80.00. ¿Cuántos libros de cada tipo compró?:",
                options: [
                    { id: "a", text: "5 matemática, 10 física", correct: false },
                    { id: "b", text: "10 matemática, 5 física", correct: true },
                    { id: "c", text: "7 matemática, 8 física", correct: false },
                    { id: "d", text: "8 matemática, 7 física", correct: false }
                ]
            },
            {
                id: 30,
                text: "Un estadio vendió 1,000 boletos: VIP a $50.00 y general a $30.00. Recaudó $42,000.00. Calcule cuántos boletos de cada tipo vendió:",
                options: [
                    { id: "a", text: "400 VIP, 600 general", correct: false },
                    { id: "b", text: "600 VIP, 400 general", correct: true },
                    { id: "c", text: "500 VIP, 500 general", correct: false },
                    { id: "d", text: "300 VIP, 700 general", correct: false }
                ]
            },
            {
                id: 31,
                text: "Un grifo A llena un tanque en 4 horas y un grifo B en 6 horas. ¿En cuánto tiempo llenan el tanque juntos?:",
                options: [
                    { id: "a", text: "2.0 horas", correct: false },
                    { id: "b", text: "2.2 horas", correct: false },
                    { id: "c", text: "2.4 horas", correct: true },
                    { id: "d", text: "2.6 horas", correct: false }
                ]
            },
            {
                id: 32,
                text: "Un comerciante compró 100 artículos por $15,000.00. Vendió algunos con 20% de ganancia y otros con 10%. Si obtuvo $17,000.00, calcule cuántos vendió con 20%:",
                options: [
                    { id: "a", text: "40 artículos", correct: false },
                    { id: "b", text: "50 artículos", correct: false },
                    { id: "c", text: "60 artículos", correct: true },
                    { id: "d", text: "70 artículos", correct: false }
                ]
            },
            {
                id: 33,
                text: "Un círculo tiene un área de 154 cm². Calcule su radio (use π=22/7):",
                options: [
                    { id: "a", text: "6 cm", correct: false },
                    { id: "b", text: "7 cm", correct: true },
                    { id: "c", text: "8 cm", correct: false },
                    { id: "d", text: "9 cm", correct: false }
                ]
            },
            {
                id: 34,
                text: "Un auto viaja 300 km. Si hubiera ido 10 km/h más rápido, habría tardado 1 hora menos. Calcule la velocidad real:",
                options: [
                    { id: "a", text: "40 km/h", correct: false },
                    { id: "b", text: "45 km/h", correct: false },
                    { id: "c", text: "50 km/h", correct: true },
                    { id: "d", text: "55 km/h", correct: false }
                ]
            },
            {
                id: 35,
                text: "Un rectángulo tiene perímetro 50 m y área 150 m². Calcule sus dimensiones:",
                options: [
                    { id: "a", text: "5 m x 20 m", correct: false },
                    { id: "b", text: "10 m x 15 m", correct: true },
                    { id: "c", text: "12 m x 13 m", correct: false },
                    { id: "d", text: "8 m x 17 m", correct: false }
                ]
            },
            {
                id: 36,
                text: "Un producto cuesta $200.00. Tras dos aumentos del 10% cada uno, ¿cuál es su precio final?:",
                options: [
                    { id: "a", text: "$240.00", correct: false },
                    { id: "b", text: "$241.00", correct: false },
                    { id: "c", text: "$242.00", correct: true },
                    { id: "d", text: "$243.00", correct: false }
                ]
            },
            {
                id: 37,
                text: "Un inversionista compró acciones: 100 a $20.00 y 200 a $30.00. Vendió todas a $25.00 cada una. Calcule su pérdida:",
                options: [
                    { id: "a", text: "$500.00", correct: false },
                    { id: "b", text: "$1,000.00", correct: true },
                    { id: "c", text: "$1,500.00", correct: false },
                    { id: "d", text: "$2,000.00", correct: false }
                ]
            },
            {
                id: 38,
                text: "Un triángulo rectángulo tiene catetos de 6 cm y 8 cm. Calcule la hipotenusa:",
                options: [
                    { id: "a", text: "9 cm", correct: false },
                    { id: "b", text: "10 cm", correct: true },
                    { id: "c", text: "12 cm", correct: false },
                    { id: "d", text: "14 cm", correct: false }
                ]
            },
            {
                id: 39,
                text: "Un reloj se atrasa 2 minutos cada 3 horas. ¿Cuánto se atrasa en 5 días?:",
                options: [
                    { id: "a", text: "40 minutos", correct: false },
                    { id: "b", text: "80 minutos", correct: true },
                    { id: "c", text: "120 minutos", correct: false },
                    { id: "d", text: "160 minutos", correct: false }
                ]
            },
            {
                id: 40,
                text: "Un depósito contiene 20,000 litros. Se extrae el 15% y luego el 20% del resto. ¿Cuántos litros quedan?:",
                options: [
                    { id: "a", text: "12,000 L", correct: false },
                    { id: "b", text: "12,500 L", correct: false },
                    { id: "c", text: "13,600 L", correct: true },
                    { id: "d", text: "14,000 L", correct: false }
                ]
            },
            {
                id: 41,
                text: "Laura estudia medicina lunes y miércoles, danza los martes, y jueves trabaja en farmacia. Infiera la información correcta:",
                options: [
                    { id: "a", text: "Martes tiene danza y medicina.", correct: false },
                    { id: "b", text: "Jueves trabaja en farmacia", correct: true },
                    { id: "c", text: "Miércoles va a danza.", correct: false },
                    { id: "d", text: "Lunes trabaja en farmacia.", correct: false }
                ]
            },
            {
                id: 42,
                text: "Secuencia: 5, 11, 23, 47, ? Seleccione el siguiente número:",
                options: [
                    { id: "a", text: "92", correct: false },
                    { id: "b", text: "94", correct: false },
                    { id: "c", text: "95", correct: true },
                    { id: "d", text: "96", correct: false }
                ]
            },
            {
                id: 43,
                text: "Analogía: \"Pintor es a brocha\", como \"Escultor es a ____\":",
                options: [
                    { id: "a", text: "Lienzo", correct: false },
                    { id: "b", text: "Cincel", correct: true },
                    { id: "c", text: "Mármol", correct: false },
                    { id: "d", text: "Paleta", correct: false }
                ]
            },
            {
                id: 44,
                text: "En una serie: A, D, G, J, ? Elija la siguiente letra:",
                options: [
                    { id: "a", text: "K", correct: false },
                    { id: "b", text: "L", correct: false },
                    { id: "c", text: "M", correct: true },
                    { id: "d", text: "N", correct: false }
                ]
            },
            {
                id: 45,
                text: "Infiera el siguiente elemento: Perro es a cachorro, como Caballo es a ____:",
                options: [
                    { id: "a", text: "Yegua", correct: false },
                    { id: "b", text: "Potrillo", correct: true },
                    { id: "c", text: "Establo", correct: false },
                    { id: "d", text: "Herradura", correct: false }
                ]
            },
            {
                id: 46,
                text: "Secuencia: 1, 4, 9, 16, 25, ? Elija el siguiente número:",
                options: [
                    { id: "a", text: "30", correct: false },
                    { id: "b", text: "34", correct: false },
                    { id: "c", text: "36", correct: true },
                    { id: "d", text: "40", correct: false }
                ]
            },
            {
                id: 47,
                text: "Ana es más alta que Luis. Carlos es más bajo que Ana pero más alto que Luis. ¿Quién es el más bajo?:",
                options: [
                    { id: "a", text: "Ana", correct: false },
                    { id: "b", text: "Carlos", correct: false },
                    { id: "c", text: "Luis", correct: true },
                    { id: "d", text: "No se puede determinar", correct: false }
                ]
            },
            {
                id: 48,
                text: "Analogía: \"Libro es a leer\", como \"Película es a ____\":",
                options: [
                    { id: "a", text: "Actor", correct: false },
                    { id: "b", text: "Ver", correct: true },
                    { id: "c", text: "Director", correct: false },
                    { id: "d", text: "Guion", correct: false }
                ]
            },
            {
                id: 49,
                text: "Secuencia: Z, W, T, Q, ? Elija la siguiente letra:",
                options: [
                    { id: "a", text: "O", correct: false },
                    { id: "b", text: "N", correct: true },
                    { id: "c", text: "M", correct: false },
                    { id: "d", text: "L", correct: false }
                ]
            },
            {
                id: 50,
                text: "Infiera el elemento faltante: Martillo, Clavo, Destornillador, ____:",
                options: [
                    { id: "a", text: "Madera", correct: false },
                    { id: "b", text: "Tornillo", correct: true },
                    { id: "c", text: "Pinza", correct: false },
                    { id: "d", text: "Alicate", correct: false }
                ]
            },
            {
                id: 51,
                text: "Si todos los gatos son animales y algunos animales son domésticos, entonces:",
                options: [
                    { id: "a", text: "Todos los gatos son domésticos.", correct: false },
                    { id: "b", text: "Algunos gatos son domésticos.", correct: true },
                    { id: "c", text: "Ningún gato es doméstico.", correct: false },
                    { id: "d", text: "Los gatos no son animales.", correct: false }
                ]
            },
            {
                id: 52,
                text: "Secuencia: 3, 6, 18, 72, ? Elija el siguiente número:",
                options: [
                    { id: "a", text: "144", correct: false },
                    { id: "b", text: "288", correct: false },
                    { id: "c", text: "360", correct: true },
                    { id: "d", text: "432", correct: false }
                ]
            },
            {
                id: 53,
                text: "Analogía: \"Viento es a erosión\", como \"Agua es a ____\":",
                options: [
                    { id: "a", text: "Lluvia", correct: false },
                    { id: "b", text: "Sedimentación", correct: true },
                    { id: "c", text: "Evaporación", correct: false },
                    { id: "d", text: "Nube", correct: false }
                ]
            },
            {
                id: 54,
                text: "Si el día de mañana es lunes, ¿qué día fue anteayer?:",
                options: [
                    { id: "a", text: "Viernes", correct: false },
                    { id: "b", text: "Sábado", correct: true },
                    { id: "c", text: "Domingo", correct: false },
                    { id: "d", text: "Jueves", correct: false }
                ]
            },
            {
                id: 55,
                text: "Secuencia: B, E, H, K, ? Elija la siguiente letra:",
                options: [
                    { id: "a", text: "M", correct: false },
                    { id: "b", text: "N", correct: true },
                    { id: "c", text: "O", correct: false },
                    { id: "d", text: "P", correct: false }
                ]
            },
            {
                id: 56,
                text: "Infiera la palabra excluida: Río, Montaña, Lago, ____:",
                options: [
                    { id: "a", text: "Bosque", correct: false },
                    { id: "b", text: "Océano", correct: true },
                    { id: "c", text: "Valle", correct: false },
                    { id: "d", text: "Desierto", correct: false }
                ]
            },
            {
                id: 57,
                text: "Si todos los médicos son profesionales y algunos profesionales son profesores, entonces:",
                options: [
                    { id: "a", text: "Todos los médicos son profesores.", correct: false },
                    { id: "b", text: "Algunos médicos son profesores.", correct: false },
                    { id: "c", text: "Algunos profesores son médicos.", correct: true },
                    { id: "d", text: "Ningún médico es profesor.", correct: false }
                ]
            },
            {
                id: 58,
                text: "Secuencia: 2, 3, 5, 8, 12, ? Elija el siguiente número:",
                options: [
                    { id: "a", text: "15", correct: false },
                    { id: "b", text: "16", correct: false },
                    { id: "c", text: "17", correct: true },
                    { id: "d", text: "18", correct: false }
                ]
            },
            {
                id: 59,
                text: "El discurso del profesor fue elocuente, cautivando al auditorio. Seleccione el término excluido:",
                options: [
                    { id: "a", text: "Persuasivo", correct: false },
                    { id: "b", text: "Torpe", correct: true },
                    { id: "c", text: "Articulado", correct: false },
                    { id: "d", text: "Expresivo", correct: false }
                ]
            },
            {
                id: 60,
                text: "Sinónimo de precavido:",
                options: [
                    { id: "a", text: "Impulsivo", correct: false },
                    { id: "b", text: "Cauteloso", correct: true },
                    { id: "c", text: "Audaz", correct: false },
                    { id: "d", text: "Temerario", correct: false }
                ]
            },
            {
                id: 61,
                text: "Antónimo de pródigo:",
                options: [
                    { id: "a", text: "Derrochador", correct: false },
                    { id: "b", text: "Ahorrativo", correct: true },
                    { id: "c", text: "Generoso", correct: false },
                    { id: "d", text: "Lujurioso", correct: false }
                ]
            },
            {
                id: 62,
                text: "Término excluido para efímero:",
                options: [
                    { id: "a", text: "Fugaz", correct: false },
                    { id: "b", text: "Pasajero", correct: false },
                    { id: "c", text: "Perdurable", correct: true },
                    { id: "d", text: "Transitorio", correct: false }
                ]
            },
            {
                id: 63,
                text: "Sinónimo de lúgubre:",
                options: [
                    { id: "a", text: "Alegre", correct: false },
                    { id: "b", text: "Sombrío", correct: true },
                    { id: "c", text: "Claro", correct: false },
                    { id: "d", text: "Radiante", correct: false }
                ]
            },
            {
                id: 64,
                text: "Antónimo de magnánimo:",
                options: [
                    { id: "a", text: "Generoso", correct: false },
                    { id: "b", text: "Egoísta", correct: true },
                    { id: "c", text: "Noble", correct: false },
                    { id: "d", text: "Benevolente", correct: false }
                ]
            },
            {
                id: 65,
                text: "Término excluido para diligente:",
                options: [
                    { id: "a", text: "Activo", correct: false },
                    { id: "b", text: "Perezoso", correct: true },
                    { id: "c", text: "Aplicado", correct: false },
                    { id: "d", text: "Trabajador", correct: false }
                ]
            },
            {
                id: 66,
                text: "Sinónimo de ignoto:",
                options: [
                    { id: "a", text: "Conocido", correct: false },
                    { id: "b", text: "Desconocido", correct: true },
                    { id: "c", text: "Famoso", correct: false },
                    { id: "d", text: "Notable", correct: false }
                ]
            },
            {
                id: 67,
                text: "Antónimo de lacerante:",
                options: [
                    { id: "a", text: "Doloroso", correct: false },
                    { id: "b", text: "Placentero", correct: true },
                    { id: "c", text: "Agudo", correct: false },
                    { id: "d", text: "Penetrante", correct: false }
                ]
            },
            {
                id: 68,
                text: "Término excluido para incólume:",
                options: [
                    { id: "a", text: "Intacto", correct: false },
                    { id: "b", text: "Dañado", correct: true },
                    { id: "c", text: "Íntegro", correct: false },
                    { id: "d", text: "Sano", correct: false }
                ]
            },
            {
                id: 69,
                text: "Sinónimo de vehemente:",
                options: [
                    { id: "a", text: "Apático", correct: false },
                    { id: "b", text: "Apasionado", correct: true },
                    { id: "c", text: "Frío", correct: false },
                    { id: "d", text: "Indiferente", correct: false }
                ]
            },
            {
                id: 70,
                text: "Antónimo de sórdido:",
                options: [
                    { id: "a", text: "Sucio", correct: false },
                    { id: "b", text: "Limpio", correct: true },
                    { id: "c", text: "Miserable", correct: false },
                    { id: "d", text: "Vil", correct: false }
                ]
            },
            {
                id: 71,
                text: "Tras años de esfuerzo, Carlos logró su meta. Sus amigos comentan: \"El que persevera alcanza\". Seleccione la interpretación correcta:",
                options: [
                    { id: "a", text: "Los atajos conducen al éxito.", correct: false },
                    { id: "b", text: "La constancia supera obstáculos", correct: true },
                    { id: "c", text: "El fracaso es definitivo.", correct: false },
                    { id: "d", text: "La suerte define el éxito.", correct: false }
                ]
            },
            {
                id: 72,
                text: "Un chef corrigió un plato mal recibido y los comensales felicitaron su humildad. Elija el refrán aplicable:",
                options: [
                    { id: "a", text: "\"Ojos que no ven, corazón que no siente\".", correct: false },
                    { id: "b", text: "Reconocer errores mejora el resultado", correct: true },
                    { id: "c", text: "\"Camarón que se duerme se lo lleva la corriente\".", correct: false },
                    { id: "d", text: "\"Dime con quién andas y te diré quién eres\".", correct: false }
                ]
            },
            {
                id: 73,
                text: "Refrán para: \"Pablo ayudó a su vecino sin esperar nada a cambio\":",
                options: [
                    { id: "a", text: "\"Más vale pájaro en mano que ciento volando\".", correct: false },
                    { id: "b", text: "Haz el bien sin mirar a quién", correct: true },
                    { id: "c", text: "\"No hay mal que por bien no venga\".", correct: false },
                    { id: "d", text: "\"A quien madruga, Dios le ayuda\".", correct: false }
                ]
            },
            {
                id: 74,
                text: "Un estudiante reprobó por no estudiar. Su padre le dice: \"De aquellos polvos vienen estos lodos\". ¿Qué significa?:",
                options: [
                    { id: "a", text: "Las acciones tienen consecuencias", correct: true },
                    { id: "b", text: "El estudio es fundamental.", correct: false },
                    { id: "c", text: "La suerte cambia.", correct: false },
                    { id: "d", text: "Hay que ser constante.", correct: false }
                ]
            },
            {
                id: 75,
                text: "Un vendedor perdió clientes por su mala atención. El refrán aplicable es:",
                options: [
                    { id: "a", text: "\"Perro que ladra no muerde\".", correct: false },
                    { id: "b", text: "Quien siembra vientos, recoge tempestades", correct: true },
                    { id: "c", text: "\"En boca cerrada no entran moscas\".", correct: false },
                    { id: "d", text: "\"A caballo regalado no se le mira el diente\".", correct: false }
                ]
            },
            {
                id: 76,
                text: "Marta logró su meta tras fracasar varias veces. Refrán adecuado:",
                options: [
                    { id: "a", text: "\"Más vale tarde que nunca\".", correct: false },
                    { id: "b", text: "Si al principio no tienes éxito, intenta de nuevo", correct: true },
                    { id: "c", text: "\"No dejes para mañana lo que puedes hacer hoy\".", correct: false },
                    { id: "d", text: "\"El que mucho abarca poco aprieta\".", correct: false }
                ]
            },
            {
                id: 77,
                text: "Juan desperdició su herencia en lujos. Su abuelo dice: \"Gasto necio, arrepentimiento eterno\". Interpretación:",
                options: [
                    { id: "a", text: "La imprudencia económica trae consecuencias", correct: true },
                    { id: "b", text: "El dinero no da felicidad.", correct: false },
                    { id: "c", text: "Hay que ahorrar.", correct: false },
                    { id: "d", text: "Los lujos son necesarios.", correct: false }
                ]
            },
            {
                id: 78,
                text: "Para activar un antivirus, se requiere un código de 6 elementos. Se conocen cinco: 45231, qwert, 78945, yuiop, 23654, Seleccione el sexto elemento:",
                options: [
                    { id: "a", text: "asdfg", correct: false },
                    { id: "b", text: "zxcvb", correct: false },
                    { id: "c", text: "mnbvc", correct: true },
                    { id: "d", text: "lkjhg", correct: false }
                ]
            },
            {
                id: 79,
                text: "Identifique el código incorrecto en inventario de laptops:",
                options: [
                    { id: "a", text: "LT-2024i7-16GB", correct: false },
                    { id: "b", text: "LT-2024i5-8GB", correct: true },
                    { id: "c", text: "LT-2023i9-32GB", correct: false },
                    { id: "d", text: "LT-2025Ryzen-12GB", correct: false }
                ]
            },
            {
                id: 80,
                text: "En una tabla de productos, encuentre el código que no coincide:",
                options: [
                    { id: "a", text: "A1B2-C3D4-E5F6", correct: false },
                    { id: "b", text: "G7H8-I9J0-K1L2", correct: false },
                    { id: "c", text: "M3N4-O5P6-Q7R8", correct: true },
                    { id: "d", text: "S9T0-U1V2-W3X4", correct: false }
                ]
            }
        ];

        // Variables globales
        let currentQuestion = 0;
        let studentAnswers = {};
        let timeLeft = 90 * 60; // 90 minutos en segundos
        let timerInterval;
        let studentName = "";
        let studentId = "";

        // Elementos del DOM
        const welcomeScreen = document.getElementById('welcomeScreen');
        const examSection = document.getElementById('examSection');
        const resultsContainer = document.getElementById('resultsContainer');
        const startBtn = document.getElementById('startBtn');
        const studentNameInput = document.getElementById('studentName');
        const studentIdInput = document.getElementById('studentId');
        const displayName = document.getElementById('displayName');
        const displayId = document.getElementById('displayId');
        const resultName = document.getElementById('resultName');
        const resultId = document.getElementById('resultId');
        const timerDisplay = document.querySelector('.timer');
        const questionsGrid = document.getElementById('questionsGrid');
        const questionTitle = document.getElementById('questionTitle');
        const questionText = document.getElementById('questionText');
        const optionsContainer = document.getElementById('optionsContainer');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const submitBtn = document.getElementById('submitBtn');
        const progressBar = document.getElementById('progressBar');
        const correctCount = document.getElementById('correctCount');
        const incorrectCount = document.getElementById('incorrectCount');
        const scoreMessage = document.getElementById('scoreMessage');
        const restartBtn = document.getElementById('restartBtn');

        // Inicializar el examen
        startBtn.addEventListener('click', startExam);
        prevBtn.addEventListener('click', showPrevQuestion);
        nextBtn.addEventListener('click', showNextQuestion);
        submitBtn.addEventListener('click', finishExam);
        restartBtn.addEventListener('click', restartExam);

        function startExam() {
            studentName = studentNameInput.value.trim() || "Estudiante UNACH";
            studentId = studentIdInput.value.trim() || "N/A";
            
            if (!studentName) {
                alert("Por favor ingresa tu nombre");
                return;
            }
            
            displayName.textContent = studentName;
            displayId.textContent = studentId;
            resultName.textContent = studentName;
            resultId.textContent = studentId;
            
            welcomeScreen.style.display = 'none';
            examSection.style.display = 'flex';
            
            // Inicializar respuestas
            examData.forEach(question => {
                studentAnswers[question.id] = null;
            });
            
            // Crear navegación de preguntas
            createQuestionNavigation();
            
            // Iniciar temporizador
            startTimer();
            
            // Mostrar primera pregunta
            showQuestion(currentQuestion);
        }

        function createQuestionNavigation() {
            questionsGrid.innerHTML = '';
            examData.forEach((question, index) => {
                const questionNumber = document.createElement('div');
                questionNumber.className = 'question-number';
                questionNumber.textContent = question.id;
                questionNumber.dataset.index = index;
                
                questionNumber.addEventListener('click', () => {
                    currentQuestion = index;
                    showQuestion(currentQuestion);
                });
                
                questionsGrid.appendChild(questionNumber);
            });
        }

        function showQuestion(index) {
            // Actualizar estado de navegación
            updateQuestionNavigation();
            
            const question = examData[index];
            questionTitle.textContent = `Pregunta #${question.id}`;
            questionText.textContent = question.text;
            
            // Limpiar opciones anteriores
            optionsContainer.innerHTML = '';
            
            // Crear opciones
            question.options.forEach(option => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                if (studentAnswers[question.id] === option.id) {
                    optionElement.classList.add('selected');
                }
                
                optionElement.innerHTML = `
                    <input type="radio" name="question-${question.id}" id="option-${option.id}" value="${option.id}" 
                        ${studentAnswers[question.id] === option.id ? 'checked' : ''}>
                    <div class="option-label">${option.id.toUpperCase()}.</div>
                    <label for="option-${option.id}">${option.text}</label>
                `;
                
                optionElement.addEventListener('click', () => {
                    document.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    optionElement.classList.add('selected');
                    studentAnswers[question.id] = option.id;
                    updateQuestionNavigation();
                });
                
                optionsContainer.appendChild(optionElement);
            });
            
            // Actualizar botones de navegación
            prevBtn.disabled = index === 0;
            nextBtn.disabled = index === examData.length - 1;
            
            // Mostrar botón de envío en la última pregunta
            submitBtn.style.display = index === examData.length - 1 ? 'block' : 'none';
            nextBtn.style.display = index === examData.length - 1 ? 'none' : 'block';
            
            // Actualizar barra de progreso
            updateProgressBar();
        }

        function updateQuestionNavigation() {
            // Actualizar números de preguntas
            document.querySelectorAll('.question-number').forEach((number, index) => {
                number.classList.remove('active', 'answered');
                if (index === currentQuestion) {
                    number.classList.add('active');
                }
                const questionId = examData[index].id;
                if (studentAnswers[questionId] !== null) {
                    number.classList.add('answered');
                }
            });
        }

        function showPrevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion(currentQuestion);
            }
        }

        function showNextQuestion() {
            if (currentQuestion < examData.length - 1) {
                currentQuestion++;
                showQuestion(currentQuestion);
            }
        }

        function startTimer() {
            updateTimerDisplay();
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    finishExam();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // Cambiar color cuando quedan menos de 5 minutos
            if (timeLeft < 300) {
                timerDisplay.style.color = '#dc3545';
            }
        }

        function updateProgressBar() {
            const answeredCount = Object.values(studentAnswers).filter(answer => answer !== null).length;
            const progress = (answeredCount / examData.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        function finishExam() {
            clearInterval(timerInterval);
            
            // Calcular resultados
            let correct = 0;
            let incorrect = 0;
            
            examData.forEach(question => {
                const studentAnswer = studentAnswers[question.id];
                if (studentAnswer !== null) {
                    const selectedOption = question.options.find(opt => opt.id === studentAnswer);
                    if (selectedOption && selectedOption.correct) {
                        correct++;
                    } else {
                        incorrect++;
                    }
                } else {
                    incorrect++;
                }
            });
            
            // Mostrar resultados
            correctCount.textContent = correct;
            incorrectCount.textContent = incorrect;
            
            // Mostrar mensaje según el puntaje
            const percentage = (correct / examData.length) * 100;
            let message = "";
            
            if (percentage >= 90) {
                message = "¡Excelente trabajo! Demostraste un dominio excepcional de los temas evaluados.";
            } else if (percentage >= 70) {
                message = "¡Buen trabajo! Tienes un buen conocimiento de los temas, pero hay espacio para mejorar.";
            } else if (percentage >= 50) {
                message = "Resultado aceptable. Te recomendamos revisar los temas donde tuviste dificultades.";
            } else {
                message = "Necesitas reforzar tus conocimientos. Te sugerimos estudiar más los temas evaluados.";
            }
            
            scoreMessage.innerHTML = `
                <h3>Tu puntuación: ${correct}/${examData.length} (${Math.round(percentage)}%)</h3>
                <p>${message}</p>
            `;
            
            examSection.style.display = 'none';
            resultsContainer.style.display = 'block';
        }

        function restartExam() {
            // Reiniciar variables
            currentQuestion = 0;
            studentAnswers = {};
            timeLeft = 90 * 60;
            
            // Restablecer la interfaz
            resultsContainer.style.display = 'none';
            welcomeScreen.style.display = 'block';
            studentNameInput.value = '';
            studentIdInput.value = '';
            timerDisplay.style.color = '#ffcc00';
        }
    </script>
</body>
</html>